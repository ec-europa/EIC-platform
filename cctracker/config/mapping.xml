<!-- ======================================================================
                             EIC Coaching mapping
     ====================================================================== -->
<site db="/db/sites/cctracker" confbase="/db/www/cctracker" startref="about" supported="login logout" key="cctracker" mode="dev" languages="en" default="en">
  <collection name="files">
    <item resource="file:///untracked/misc/$2.pdf"/>
  </collection>
  <item name="me" supported="forgotten" method="POST" epilogue="home">
    <model src="modules/users/password.xql"/>
    <view src="modules/users/password.xsl"/>
    <action name="POST" epilogue="home">
      <model src="modules/users/password.xql"/>
      <view src="modules/users/password.xsl"/>
    </action>
    <action name="forgotten" epilogue="home">
      <!-- GET or POST -->
      <access>
        <rule action="GET POST" role="all"/>
        <!-- visible to anyone -->
      </access>
      <model src="modules/users/password.xql"/>
      <view src="modules/users/password.xsl"/>
    </action>
  </item>
  <item name="privacy-statement" resource="file:///untracked/files/privacy-statement-calls-EASME.pdf">
    <access>
      <rule action="GET" role="all"/>
    </access>
  </item>
  <!-- *********** -->
  <!-- ** stage ** -->
  <!-- *********** -->
  <item name="stage" method="POST" epilogue="home">
    <access>
      <rule action="GET POST" role="u:admin g:users" message="registered user"/>
    </access>
    <model src="modules/stage/search.xql"/>
    <view src="modules/stage/search.xsl"/>
    <action name="POST" epilogue="*">
      <model src="modules/stage/search.xql"/>
      <view src="modules/stage/search.xsl"/>
    </action>
    <import module="submission" param="name=SearchStageRequest"/>
  </item>
  <!-- ***************** -->
  <!-- ** enterprises ** -->
  <!-- ***************** -->
  <collection name="enterprises" supported="add export" method="POST" epilogue="home" collection="enterprises" resource="enterprises.xml">
    <model src="modules/enterprises/search.xql"/>
    <view src="modules/enterprises/search.xsl"/>
    <action name="POST" epilogue="*">
      <model src="modules/enterprises/search.xql"/>
      <view src="modules/enterprises/search.xsl"/>
    </action>
    <import module="submission" param="name=SearchEnterprisesRequest"/>
    <action name="add">
      <model src="modules/enterprises/enterprise.xql"/>
    </action>
    <action name="export">
      <model src="modules/enterprises/export.xql"/>
    </action>
    <item method="POST">
      <model src="modules/enterprises/enterprise.xql"/>
      <action name="POST">
        <model src="modules/enterprises/enterprise.xql"/>
      </action>
      <variant name="GET" format="blend">
        <view src="views/blend.xsl"/>
      </variant>
      <variant name="GET" format="modal">
        <view src="modules/enterprises/modal.xsl"/>
      </variant>
      <item name="delete" method="POST DELETE">
        <!-- delete controller -->
        <action name="POST">
          <model src="modules/enterprises/delete.xql"/>
        </action>
        <action name="DELETE">
          <model src="modules/enterprises/delete.xql"/>
        </action>
      </item>
    </item>
  </collection>
  <!-- ************* -->
  <!-- ** persons ** -->
  <!-- ************* -->
  <collection name="persons" supported="add" method="POST" epilogue="home" collection="persons" resource="regions">
    <model src="modules/persons/search.xql"/>
    <view src="modules/persons/search.xsl"/>
    <action name="POST" epilogue="*">
      <model src="modules/persons/search.xql"/>
      <view src="modules/persons/search.xsl"/>
    </action>
    <import module="submission" param="name=SearchPersonsRequest"/>
    <collection name="images" method="POST">
      <model src="oppidum:models/forbidden.xql"/>
      <item resource="$3" collection="persons/images">
        <access>
          <rule action="GET" role="all"/>
        </access>
        <model src="modules/images/image.xql"/>
        <variant name="GET" format="jpeg"/>
        <variant name="GET" format="jpg"/>
        <variant name="GET" format="png"/>
        <variant name="GET" format="gif"/>
      </item>
      <action name="POST">
        <model src="modules/images/upload.xql">
          <param name="group" value="users"/>
          <param name="max-size" value="400x400"/>
        </model>
      </action>
    </collection>
    <action name="add">
      <model src="modules/persons/person.xql"/>
      <view src="modules/persons/ajax.xsl"/>
    </action>
    <item method="POST">
      <model src="modules/persons/person.xql"/>
      <action name="POST">
        <model src="modules/persons/person.xql"/>
        <view src="modules/persons/ajax.xsl"/>
      </action>
      <variant name="GET" format="blend">
        <view src="views/blend.xsl"/>
      </variant>
      <variant name="GET" format="modal">
        <view src="modules/persons/modal.xsl"/>
      </variant>
      <item name="delete" method="POST DELETE">
        <!-- delete controller -->
        <action name="POST">
          <model src="modules/persons/delete.xql"/>
        </action>
        <action name="DELETE">
          <model src="modules/persons/delete.xql"/>
        </action>
      </item>
    </item>
  </collection>
  <!-- ************************** -->
  <!-- ** coach match services ** -->
  <!-- ************************** -->
  <collection name="match" supported="inspect nonce">
    <item name="criteria" method="POST">
      <action name="POST">
        <model src="modules/persons/search.xql"/>
      </action>
      <import module="submission" param="name=SearchCoachesRequest"/>
    </item>
    <collection name="summary">
      <item>
        <model src="modules/match/stub.xql"/>
      </item>
    </collection>
    <action name="inspect">
      <model src="modules/match/stub.xql"/>
    </action>
    <action name="nonce">
      <model src="modules/match/stub.xql"/>
    </action>
  </collection>
  <!-- ************** -->
  <!-- ** services ** -->
  <!-- ************** -->
  <collection name="services" epilogue="home">
    <item method="POST">
      <model src="modules/services/service.xql"/>
      <action name="POST">
        <model src="modules/services/service.xql"/>
        <view src="modules/persons/ajax.xsl"/>
      </action>
    </item>
  </collection>
  <!-- ************* -->
  <!-- **  coach  ** -->
  <!-- ************* -->
  <collection name="coaches" supported="export" epilogue="search" collection="persons" resource="regions">
    <model src="modules/persons/search.xql"/>
    <view src="modules/persons/search.xsl"/>
    <action name="export">
      <model src="modules/persons/export.xql"/>
    </action>
    <item name="analytics" epilogue="export">
      <rule action="GET" role="u:admin g:admin-system g:coaching-manager g:coaching-assistant" message="system administrator, EASME coaching manager, EASME coaching assistant"/>
      <model src="modules/analytics/report.xql"/>
      <view src="modules/analytics/report.xsl"/>
      <variant name="GET" epilogue="excel" format="xlsx">
        <view/>
      </variant>
      <item method="POST">
        <action name="POST">
          <model src="excm:modules/analytics/record.xql"/>
        </action>
      </item>
    </item>
  </collection>
  
  <!-- ************* -->
  <!-- **  feeds  ** -->
  <!-- ************* -->
  <collection name="feeds" method="POST">
    <access>
      <rule action="POST" role="all"/>
    </access>
    <action name="POST">
      <model src="models/feeds.xql"/>
    </action>
  </collection>
  <!-- ************* -->
  <!-- ** regions ** -->
  <!-- ************* -->
  <collection name="regions" supported="add" method="POST" epilogue="home" collection="regions" resource="regions">
    <model src="modules/regions/search.xql"/>
    <view src="modules/regions/search.xsl"/>
    <action name="POST" epilogue="*">
      <model src="modules/regions/search.xql"/>
      <view src="modules/regions/search.xsl"/>
    </action>
    <import module="submission" param="name=SearchRegionsRequest"/>
    <action name="add">
      <model src="modules/regions/region.xql"/>
      <view src="modules/regions/ajax.xsl"/>
    </action>
    <item method="POST">
      <model src="modules/regions/region.xql"/>
      <action name="POST">
        <model src="modules/regions/region.xql"/>
        <view src="modules/regions/ajax.xsl"/>
      </action>
      <variant name="GET" format="modal">
        <view src="modules/regions/modal.xsl"/>
      </variant>
      <variant name="GET" format="blend">
        <view src="views/blend.xsl"/>
      </variant>
      <item name="delete" method="POST DELETE">
        <!-- delete controller -->
        <action name="POST">
          <model src="modules/regions/delete.xql"/>
        </action>
        <action name="DELETE">
          <model src="modules/regions/delete.xql"/>
        </action>
      </item>
    </item>
  </collection>
  <!-- ************** -->
  <!-- ** projects ** -->
  <!-- ************** -->
  <collection name="projects" supported="export signature project" method="POST" epilogue="home" collection="projects/$2" resource="project.xml">
    <model src="models/nopage.xql"/>
    <action name="export">
      <model src="modules/cases/export.xql"/>
    </action>
    <action name="signature">
      <model src="modules/cases/signature.xql"/>
    </action>
    <action name="message">
      <model src="modules/cases/message.xql"/>
    </action>
    <action name="project">
      <model src="modules/cases/project.xql"/>
    </action>
    <item epilogue="workflow" supported="sign">
      <model src="modules/projects/workflow.xql"/>
      <view src="modules/workflow/workflow.xsl"/>
      <variant name="GET" format="blend" epilogue="">
        <view src="views/blend.xsl"/>
      </variant>
      <variant name="GET" format="modal" epilogue="">
        <model src="modules/projects/modal.xql"/>
        <view src="modules/projects/modal.xsl"/>
      </variant>
      <!-- Information document -->
      <item name="information" method="POST">
        <model src="modules/projects/information.xql"/>
        <variant name="GET" format="blend">
          <view src="views/blend.xsl"/>
        </variant>
        <action name="POST">
          <model src="modules/projects/information.xql"/>
        </action>
      </item>
      <collection name="alerts" method="POST">
        <model src="modules/workflow/alert.xql"/>
        <action name="POST">
          <model src="modules/workflow/alert.xql"/>
          <view src="modules/workflow/workflow.xsl"/>
        </action>
        <item>
          <model src="modules/workflow/alert.xql"/>
          <variant name="GET" format="modal">
            <view src="modules/workflow/alert-modal.xsl"/>
          </variant>
        </item>
      </collection>
      <!-- Change status action (post) -->
      <item name="status" method="POST">
        <action name="POST">
          <model src="modules/projects/status.xql"/>
        </action>
      </item>
      <!-- Whois information -->
      <item name="whois">
        <model src="modules/workflow/whois.xql"/>
        <view src="modules/workflow/whois.xsl"/>
      </item>
      <!-- nuts -->
      <item name="nuts">
        <model src="modules/projects/nuts.xql"/>
      </item>
      <!-- *********** -->
      <!-- ** cases ** -->
      <!-- *********** -->
      <collection name="cases" supported="create export signature project" method="POST" epilogue="home">
        <access>
          <rule action="GET" role="g:users" message="registered user"/>
          <rule action="POST create" role="u:admin g:admin-system g:coaching-manager g:coaching-assistant" message="system administrator, EASME coaching manager, EASME coaching assistant"/>
        </access>
        <model src="models/nopage.xql"/>
        <action name="POST">
          <model src="modules/cases/create.xql"/>
        </action>
        <item epilogue="workflow" supported="sign">
          <model src="modules/cases/workflow.xql"/>
          <view src="modules/workflow/workflow.xsl"/>
          <variant name="GET" format="blend" epilogue="">
            <view src="views/blend.xsl"/>
          </variant>
          <variant name="GET" format="modal" epilogue="">
            <model src="modules/cases/modal.xql"/>
            <view src="modules/cases/modal.xsl"/>
          </variant>
          <!-- Enterprise (modal) -->
          <item name="enterprise">
            <model src="modules/cases/enterprise.xql"/>
            <view src="modules/enterprises/modal.xsl"/>
          </item>
          <item name="information" method="POST">
            <model src="modules/cases/information.xql"/>
            <variant name="GET" format="blend">
              <view src="views/blend.xsl"/>
            </variant>
            <action name="POST">
              <model src="modules/cases/information.xql"/>
            </action>
            <item name="ManagingEntity" method="POST">
              <model src="modules/cases/information.xql"/>
              <action name="POST">
                <model src="modules/cases/information.xql"/>
              </action>
            </item>
          </item>
          <!-- Management document -->
          <item name="management" method="POST">
            <model src="modules/cases/management.xql"/>
            <variant name="GET" format="blend">
              <view src="views/blend.xsl"/>
            </variant>
            <action name="POST">
              <model src="modules/cases/management.xql"/>
            </action>
          </item>
          <!-- Needs analysis document -->
          <item name="needs-analysis" method="POST">
            <model src="modules/cases/needs-analysis.xql"/>
            <variant name="GET" format="blend">
              <view src="views/blend.xsl"/>
            </variant>
            <action name="POST">
              <model src="modules/cases/needs-analysis.xql"/>
            </action>
          </item>
          <!-- Alerts -->
          <collection name="alerts" method="POST">
            <model src="modules/workflow/alert.xql"/>
            <action name="POST">
              <model src="modules/workflow/alert.xql"/>
              <view src="modules/workflow/workflow.xsl"/>
            </action>
            <item>
              <model src="modules/workflow/alert.xql"/>
              <variant name="GET" format="modal">
                <view src="modules/workflow/alert-modal.xsl"/>
              </variant>
            </item>
          </collection>
          <!-- Change status action (post) -->
          <item name="status" method="POST">
            <action name="POST">
              <model src="modules/cases/status.xql"/>
            </action>
          </item>
          <!-- Whois information -->
          <item name="whois">
            <model src="modules/workflow/whois.xql"/>
            <view src="modules/workflow/whois.xsl"/>
          </item>

          <!-- ************** -->
          <!-- ** activity ** -->
          <!-- ************** -->
          <collection name="activities" method="POST">
            <model src="models/nopage.xql"/>
            <action name="POST">
              <model src="modules/activities/create.xql"/>
            </action>
            <!-- ************** -->
            <!-- ** workflow ** -->
            <!-- ************** -->
            <item epilogue="workflow" supported="delete match">
              <model src="modules/activities/workflow.xql"/>
              <view src="modules/workflow/workflow.xsl"/>
              <action name="delete">
                <!-- delete activity (with POST) -->
                <model src="modules/activities/delete.xql"/>
              </action>
              <!-- timesheets -->
              <collection name="timesheets" method="POST" supported="remove">
                <model src="oppidum:models/forbidden.xql"/>
                <item resource="$8">
                  <access>
                    <rule action="GET" role="g:users"/>
                  </access>
                  <model src="modules/activities/timesheet.xql"/>
                  <variant name="GET" format="pdf"/>
                </item>
                <action name="POST">
                  <model src="modules/activities/timesheet.xql"/>
                </action>
                <action name="remove">
                  <model src="modules/activities/timesheet.xql"/>
                </action>
              </collection>
              <!-- Archived need analysis document -->
              <item name="needs-analysis" method="POST">
                <model src="modules/cases/needs-analysis.xql"/>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
                <action name="POST">
                  <model src="modules/cases/needs-analysis.xql"/>
                </action>
              </item>
              <!-- Coach assignment -->
              <item name="assignment" method="POST">
                <model src="modules/activities/assignment.xql"/>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
                <action name="POST">
                  <model src="modules/activities/assignment.xql"/>
                </action>
              </item>
              <!-- FundingRequest document -->
              <item name="funding-request" method="POST">
                <model src="modules/activities/funding-request.xql"/>
                <action name="POST">
                  <model src="modules/activities/funding-request.xql"/>
                </action>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
              </item>
              <!-- FinancialStatement document -->
              <item name="financial-statement" method="POST">
                <model src="modules/activities/funding-request.xql"/>
                <action name="POST">
                  <model src="modules/activities/funding-request.xql"/>
                </action>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
              </item>
              <!-- Opinions document -->
              <item name="opinions">
                <model src="modules/activities/opinions.xql"/>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
                <item name="KAM-Opinion" method="POST">
                  <model src="modules/activities/opinions.xql"/>
                  <action name="POST">
                    <model src="modules/activities/opinions.xql"/>
                  </action>
                </item>
                <item name="ServiceHeadOpinion" method="POST">
                  <model src="modules/activities/opinions.xql"/>
                  <action name="POST">
                    <model src="modules/activities/opinions.xql"/>
                  </action>
                </item>
              </item>
              <!-- FundingDecision document -->
              <item name="funding-decision" method="POST">
                <model src="modules/activities/funding-decision.xql"/>
                <action name="POST">
                  <model src="modules/activities/funding-decision.xql"/>
                </action>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
                <item name="CoachContract" method="POST">
                  <model src="modules/activities/funding-decision.xql"/>
                  <action name="POST">
                    <model src="modules/activities/funding-decision.xql"/>
                  </action>
                </item>
                <item name="contracts" epilogue="export">
                  <model src="modules/users/contracts.xql"/>
                  <view src="modules/users/contracts.xsl"/>
                </item>
                <item name="annex" epilogue="export">
                  <model src="modules/users/contract-annex.xql"/>
                  <view src="modules/users/contract-annex.xsl"/>
                  <variant name="GET" epilogue="fop" format="pdf">
                    <model src="modules/users/contract-annex-pdf.xql"/>
                    <view src="modules/users/contract-annex-pdf.xsl"/>
                  </variant>
                </item>
              </item>
              <!-- FinalReport document -->
              <item name="final-report" method="POST">
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
                <model src="modules/activities/final-report.xql"/>
                <action name="POST">
                  <model src="modules/activities/final-report.xql"/>
                </action>
              </item>
              <!-- FinalReportApproval document -->
              <item name="final-report-approval" method="POST">
                <model src="modules/activities/final-report-approval.xql"/>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
                <action name="POST">
                  <model src="modules/activities/final-report-approval.xql"/>
                </action>
                <item name="CoachingAssistantVisa" method="POST">
                  <model src="modules/activities/final-report-approval.xql"/>
                  <action name="POST">
                    <model src="modules/activities/final-report-approval.xql"/>
                  </action>
                </item>
                <item name="CoachingManagerVisa" method="POST">
                  <model src="modules/activities/final-report-approval.xql"/>
                  <action name="POST">
                    <model src="modules/activities/final-report-approval.xql"/>
                  </action>
                </item>
              </item>
              <!-- Evaluation or Feedback document -->
              <item name="evaluation">
                <model src="modules/activities/evaluation.xql"/>
              </item>
              <item name="evaluations">
                <model src="modules/activities/evaluations.xql"/>
                <variant name="GET" format="blend">
                  <view src="views/blend.xsl"/>
                </variant>
              </item>
              <!-- Alerts -->
              <collection name="alerts" method="POST">
                <model src="modules/workflow/alert.xql"/>
                <action name="POST">
                  <model src="modules/workflow/alert.xql"/>
                  <view src="modules/workflow/workflow.xsl"/>
                </action>
                <item>
                  <model src="modules/workflow/alert.xql"/>
                  <variant name="GET" format="modal">
                    <view src="modules/workflow/alert-modal.xsl"/>
                  </variant>
                </item>
              </collection>
              <!-- Change status action (post) -->
              <item name="status" method="POST">
                <action name="POST">
                  <model src="modules/activities/status.xql"/>
                </action>
              </item>
              <!-- Whois information -->
              <item name="whois">
                <model src="modules/workflow/whois.xql"/>
                <view src="modules/workflow/whois.xsl"/>
              </item>
              <!-- nuts -->
              <item name="nuts">
                <model src="modules/cases/nuts.xql"/>
              </item>
              <!-- match -->
              <action name="match">
                <model src="modules/activities/match.xql"/>
              </action>
            </item>
          </collection>
        </item>
      </collection>
    </item>
  </collection>
  <!-- *********** -->
  <!-- ** cases ** -->
  <!-- *********** -->
  <collection name="cases" supported="export signature message project" method="POST" epilogue="home" collection="cases/$2" resource="case.xml">
    <access>
      <rule action="GET" role="g:users" message="registered user"/>
      <rule action="POST create" role="u:admin g:admin-system g:coaching-manager g:coaching-assistant" message="system administrator, EASME coaching manager, EASME coaching assistant"/>
    </access>
    <model src="models/nopage.xql"/>
    <action name="export">
      <model src="modules/cases/export.xql"/>
    </action>
    <action name="signature">
      <model src="modules/cases/signature.xql"/>
    </action>
    <action name="message">
      <model src="modules/cases/message.xql"/>
    </action>
    <action name="project">
      <model src="modules/cases/project.xql"/>
    </action>
    <item epilogue="home">
      <model src="modules/projects/redirect.xql"/>
      <item epilogue="home">
        <model src="modules/projects/redirect.xql"/>
      </item>
      <collection name="activities" epilogue="home">
        <model src="models/nopage.xql"/>
        <item epilogue="home">
          <model src="modules/projects/redirect.xql"/>
          <!-- timesheets -->
          <collection name="timesheets">
            <model src="oppidum:models/forbidden.xql"/>
            <item resource="$6" epilogue="home">
              <model src="modules/projects/redirect.xql"/>
            </item>
          </collection>
          <item epilogue="home">
            <model src="modules/projects/redirect.xql"/>
          </item>
        </item>
      </collection>
    </item>
  </collection>
  <!-- *************** -->
  <!-- ** services **  -->
  <!-- *************** -->
  <item name="sme-feedback" method="POST">
    <access>
      <rule action="POST" role="all"/>
    </access>
    <action name="POST">
      <model src="modules/activities/evaluation.xql"/>
    </action>
  </item>
  <item name="kam-feedback" method="POST">
    <access>
      <rule action="POST" role="all"/>
    </access>
    <action name="POST">
      <model src="modules/activities/evaluation.xql"/>
    </action>
  </item>
  <!-- *************** -->
  <!-- ** templates ** -->
  <!-- *************** -->
  <item name="templates" collection="templates">
    <model src="oppidum:models/templates.xql"/>
    <item name="search">
      <item name="stage" epilogue="stage-search.xhtml">
        <model src="modules/stage/form.xql"/>
      </item>
      <item name="enterprises" epilogue="enterprise-search.xhtml">
        <model src="modules/enterprises/form.xql"/>
      </item>
      <item name="persons" epilogue="person-search.xhtml">
        <model src="modules/persons/form.xql"/>
      </item>
      <item name="coaches" epilogue="coach-search.xhtml">
        <model src="modules/persons/form.xql"/>
      </item>
      <item name="regions" epilogue="region-search.xhtml">
        <model src="modules/regions/form.xql"/>
      </item>
    </item>
    <item name="project-information" epilogue="project-information.xhtml">
      <model src="modules/projects/form.xql"/>
    </item>
    <item name="case-information" epilogue="case-information.xhtml">
      <model src="modules/cases/form.xql"/>
    </item>
    <item name="managing-entity" epilogue="managing-entity.xhtml">
      <model src="modules/cases/form.xql"/>
    </item>
    <item name="case-management" epilogue="case-management.xhtml">
      <model src="modules/cases/form.xql"/>
    </item>
    <item name="needs-analysis" epilogue="needs-analysis.xhtml">
      <model src="modules/cases/form.xql"/>
    </item>
    <item name="coaching-assignment" epilogue="coaching-assignment.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="funding-request" epilogue="funding-request.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="financial-statement" epilogue="financial-statement.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="opinions" epilogue="opinions.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="position" epilogue="position.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="funding-decision" epilogue="funding-decision.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="coach-contract" epilogue="coach-contract.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="final-report" epilogue="final-report.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="final-report-approval" epilogue="final-report-approval.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="closing" epilogue="closing.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="evaluation" epilogue="evaluation.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="sme-feedback" epilogue="sme-feedback.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="evaluations" epilogue="evaluations.xhtml">
      <model src="modules/activities/form.xql"/>
    </item>
    <item name="region" epilogue="region.xhtml">
      <model src="modules/regions/form.xql"/>
    </item>
    <item name="service" epilogue="service.xhtml">
      <model src="modules/persons/form.xql"/>
    </item>
    <item name="person" epilogue="person.xhtml">
      <model src="modules/persons/form.xql"/>
    </item>
    <item name="enterprise" epilogue="enterprise.xhtml">
      <model src="modules/enterprises/form.xql"/>
    </item>
    <item name="notification" epilogue="notification.xhtml">
      <model src="modules/workflow/form.xql"/>
    </item>
    <item name="email" epilogue="email.xhtml">
      <model src="modules/workflow/form.xql"/>
    </item>
    <item name="profile" epilogue="profile.xhtml">
      <model src="modules/management/form.xql"/>
    </item>
    <item name="remote" epilogue="remote.xhtml">
      <model src="modules/management/form.xql"/>
    </item>
    <item name="account" epilogue="account.xhtml">
      <model src="modules/management/form.xql"/>
    </item>
    <item name="stats-cases" epilogue="stats-cases.xhtml">
      <model src="modules/stats/form.xql"/>
    </item>
    <item name="stats-activities" epilogue="stats-activities.xhtml">
      <model src="modules/stats/form.xql"/>
    </item>
    <item name="stats-kpi" epilogue="stats-kpi.xhtml">
      <model src="modules/stats/form.xql"/>
    </item>
    <item name="demo" epilogue="demo.xhtml">
      <model src="modules/enterprises/form.xql"/>
    </item>
  </item>
  <!-- ************ -->
  <!-- ** admin  ** -->
  <!-- ************ -->
  <item name="admin">
    <item name="deploy">
      <access>
        <rule action="GET" role="all"/>
      </access>
      <model src="scripts/deploy.xql"/>
    </item>
    <item name="hold">
      <model src="models/hold.xql"/>
    </item>
  </item>
  <!-- *************** -->
  <!-- ** health  ** -->
  <!-- *************** -->
  <item name="health">
    <item name="check">
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="scripts/validate.xql"/>
    </item>
    <item name="hold">
      <model src="models/hold.xql"/>
    </item>
  </item>
  <!-- ***************** -->
  <!-- ** management  ** -->
  <!-- ***************** -->
  <item name="management" epilogue="home">
    <access>
      <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
    </access>
    <model src="modules/management/management.xql"/>
    <view src="modules/management/management.xsl"/>
    <collection name="users">
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/management/user.xql"/>
      <view src="modules/management/user.xsl"/>
    </collection>
    <collection name="remotes">
      <description>remote table contruction to pre-register coaches from Coach Match</description>
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/management/remote.xql"/>
      <view src="modules/management/remote.xsl"/>
    </collection>
    <item name="import">
      <description>import table contruction to import coaches from Coach Match</description>
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/management/import.xql"/>
    </item>
    <item name="thesaurus" method="POST">
      <access>
        <rule action="GET POST" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/thesaurus/thesaurus.xql"/>
      <action name="POST">
        <model src="modules/thesaurus/thesaurus.xql"/>
      </action>
    </item>
    <item name="params" method="POST">
      <access>
        <rule action="GET POST" role="u:admin" message="system administrator"/>
      </access>
      <model src="modules/management/params.xql"/>
      <view src="modules/management/params.xsl"/>
      <action name="POST">
        <model src="modules/management/params.xql"/>
      </action>
    </item>
    <item name="groups">
      <access>
        <rule action="GET" role="u:admin" message="system administrator"/>
      </access>
      <model src="modules/management/groups.xql"/>
    </item>
    <item name="roles">
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/management/roles.xql"/>
      <view src="modules/management/roles.xsl"/>
    </item>
    <item name="workflow">
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/management/workflow.xql"/>
    </item>
    <item name="login">
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="administrateur système"/>
      </access>
      <model src="modules/management/login.xql"/>
      <view src="modules/management/login.xsl"/>
    </item>
    <item name="access">
      <access>
        <rule action="GET" role="u:admin g:admin-system" message="administrateur système"/>
      </access>
      <model src="modules/management/login.xql"/>
      <view src="modules/management/access.xsl"/>
    </item>
  </item>
  <!-- ************** -->
  <!-- ** profiles ** -->
  <!-- ************** -->
  <collection name="profiles" collection="persons" resource="regions" method="POST" supported="add">
    <model src="modules/users/profile.xql"/>
    <access>
      <rule action="add POST" role="u:admin g:admin-system" message="system administrator"/>
    </access>
    <action name="add">
      <model src="modules/users/profile.xql"/>
    </action>
    <action name="POST">
      <model src="modules/users/profile.xql"/>
    </action>
    <item method="POST">
      <access>
        <rule action="GET POST" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/users/profile.xql"/>
      <action name="POST">
        <model src="modules/users/profile.xql"/>
      </action>
    </item>
  </collection>
  <!-- ************** -->
  <!-- ** accounts ** -->
  <!-- ************** -->
  <collection name="accounts" collection="persons" resource="regions">
    <item method="POST" supported="delete">
      <access>
        <rule action="GET POST delete" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <model src="modules/users/account.xql"/>
      <action name="POST">
        <model src="modules/users/account.xql"/>
      </action>
      <action name="delete">
        <!-- delete controller -->
        <model src="modules/users/account.xql"/>
      </action>
    </item>
  </collection>
  <!-- ***************** -->
  <!-- ** about  ** -->
  <!-- ***************** -->
  <item name="about" epilogue="home" resource="file:///views/guidelines.xml" collection="docs">
    <access>
      <rule action="GET" role="all"/>
    </access>
  </item>
  <!-- ***************** -->
  <!-- ** untracked  ** -->
  <!-- ***************** -->
  <item name="handbook" resource="file:///untracked/docs/Method_Handbook_2.0.pdf"/>
  <!-- *********** -->
  <!-- ** docs  ** -->
  <!-- *********** -->
  <collection name="docs">
    <item name="cc20-organisation-handbook" resource="file:///untracked/docs/Organisation_Handbook_2.0.pdf"/>
    <item name="cc20-method-handbook" resource="file:///untracked/docs/Method_Handbook_2.0.pdf"/>
    <item name="cc20-kam-handbook" resource="file:///untracked/docs/KAM_Handbook_2.0.pdf"/>
    <item name="cc20-coach-handbook" resource="file:///untracked/docs/Coach_Handbook_2.0.pdf"/>
    <item name="cc20-case-tracker-handbook" resource="file:///untracked/docs/Case_Tracker_Manual_3.pdf"/>
  </collection>
  <!-- *********** -->
  <!-- ** tools  ** -->
  <!-- *********** -->
  <collection name="tools">
    <item name="timesheet" resource="file:///untracked/tools/SME_coaching_timesheet.docx">
      <variant name="GET" format="docx"/>
    </item>
    <item name="cc20-bi-roadmap-tool" resource="file:///untracked/tools/BI_Roadmap_Tool.xlsx">
      <variant name="GET" format="xlsx"/>
    </item>
    <item name="cc20-bi-roadmap-handbook" resource="file:///untracked/tools/BI_Roadmap_EN.pdf"/>
    <item name="cc20-business-architecture-slides" resource="file:///untracked/tools/BusinessArchitecture.pptx">
      <variant name="GET" format="pptx"/>
    </item>
    <item name="cc20-macro-design-slides" resource="file:///untracked/tools/MacroDesign.pptx">
      <variant name="GET" format="pptx"/>
    </item>
    <item name="cc20-strategy-organisation-handbook" resource="file:///untracked/tools/Strategy_Organisation.pdf"/>
    <item name="cc20-bi-segmentation-tool" resource="file:///untracked/tools/BI_Segmentation_Tool.xlsx">
      <variant name="GET" format="xlsx"/>
    </item>
    <item name="cc20-bi-customer-needs-analysis-tool" resource="file:///untracked/tools/BI_Customer_Needs_Analysis.xlsx">
      <variant name="GET" format="xlsx"/>
    </item>
    <item name="cc20-segmentation-customer-needs-slides" resource="file:///untracked/tools/Segmentation_CustomerNeeds.pptx">
      <variant name="GET" format="pptx"/>
    </item>
    <item name="cc20-segmentation-handbook" resource="file:///untracked/tools/Segmentation.pdf"/>
  </collection>
  <!-- ************************** -->
  <!-- ** forum (temporary ?)  ** -->
  <!-- ************************** -->
  <collection name="forum">
    <item name="absorptive-capacity-tool-DEMO" resource="file:///untracked/forum/Absorptive_capacity_tool_DEMO.xlsx">
      <variant name="GET" format="xlsx"/>
    </item>
    <item name="cooperation-aproach-edinburgh" resource="file:///untracked/forum/Cooperation_Approach_Edinburgh.pptx">
      <variant name="GET" format="pptx"/>
    </item>
  </collection>
  <!-- ************ -->
  <!-- ** forms  ** -->
  <!-- ************ -->
  <item name="forms" resource="file:///formulars/_register.xml" supported="install" epilogue="formulars">
    <access>
      <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
      <rule action="install" role="u:admin g:admin-system" message="system administrator"/>
    </access>
    <view src="modules/formulars/simulator.xsl"/>
    <item resource="file:///formulars/$2.xml"/>
    <action name="install" resource="">
      <model src="modules/formulars/install.xql"/>
    </action>
  </item>
  <!-- *************************** -->
  <!-- ** dictionary (optional) ** -->
  <!-- *************************** -->
  <item name="dictionary" method="POST" supported="test export">
    <action name="POST">
      <model src="modules/dictionary/update.xql"/>
    </action>
    <action name="test">
      <model src="modules/dictionary/test.xql"/>
    </action>
    <action name="export">
      <model src="modules/dictionary/export.xql"/>
    </action>
  </item>
  <!-- *************************** -->
  <!-- **  benchmark (optional) ** -->
  <!-- *************************** -->
  <item name="benchmark">
    <model src="modules/benchmark/fibonacci.xql"/>
    <view src="modules/benchmark/fibonacci.xsl"/>
  </item>
  <!-- *************************** -->
  <!-- **  test (optional) ** -->
  <!-- *************************** -->
  <item name="test">
    <item name="selectors" epilogue="xtiger">
      <model src="test/selectors.xql"/>
    </item>
    <item name="access">
      <model src="test/access.xql"/>
    </item>
    <item name="services" epilogue="xtiger">
      <model src="test/services.xql"/>
    </item>
    <item name="stats">
      <model src="test/stats.xql"/>
    </item>
    <item name="reminders">
      <model src="test/reminders.xql"/>
    </item>
  </item>
  <!-- ************ -->
  <!-- ** specs  ** -->
  <!-- ************ -->
  <item name="specs">
    <access>
      <rule action="GET" role="u:admin g:admin-system" message="system administrator"/>
    </access>
    <item name="roadmap" resource="file:///docs/roadmap.html"/>
  </item>
  <!-- ************* -->
  <!-- **  calls  ** -->
  <!-- ************* -->
  <collection name="calls">
    <item supported="assign export">
      <access>
        <rule action="export assign" role="u:admin g:admin-system" message="system administrator"/>
      </access>
      <action name="assign" epilogue="export">
        <model src="modules/calls/assign.xql"/>
        <view src="modules/calls/assign.xsl"/>
      </action>
      <action name="export" epilogue="export">
        <model src="modules/export/cases.xql"/>
        <view src="modules/export/cases.xsl"/>
      </action>
      <item name="dump">
        <access>
          <rule action="GET" role="u:admin g:users" message="business analyst"/>
        </access>
        <model src="modules/export/dump.xql"/>
        <view src="modules/export/dump.xsl"/>
        <variant name="GET" format="csv"/>
        <variant name="GET" format="vars">
          <model src="modules/export/vars.xql"/>
          <view/>
        </variant>
      </item>
    </item>
  </collection>
  <!-- ************* -->
  <!-- **  import  ** -->
  <!-- ************* -->
  <item name="import" method="POST" epilogue="export">
    <access>
      <rule action="GET POST" role="u:admin g:admin-system" message="system administrator"/>
    </access>
    <model src="modules/calls/import.xql"/>
    <view src="modules/calls/import.xsl"/>
    <action name="POST">
      <model src="modules/calls/import.xql"/>
    </action>
  </item>
  <!-- ************** -->
  <!-- **  alerts  ** -->
  <!-- ************** -->
  <collection name="alerts" supported="refresh" epilogue="export">
    <access>
      <rule action="GET" role="g:users" message="registered user"/>
      <rule action="refresh" role="g:admin-system" message="system administrator"/>
    </access>
    <model src="modules/alerts/check.xql"/>
    <view src="modules/alerts/todo.xsl"/>
    <action name="refresh">
      <model src="modules/alerts/refresh.xql"/>
    </action>
    <item epilogue="export">
      <model src="modules/alerts/check.xql"/>
      <view src="modules/alerts/todo.xsl"/>
    </item>
  </collection>
  <!-- *************** -->
  <!-- **  reports  ** -->
  <!-- *************** -->
  <collection name="reports" epilogue="console">
    <access>
      <rule action="GET" role="g:admin-system g:coaching-assistant g:coaching-manager" message="authorized user"/>
    </access>
    <model src="modules/reports/report-front.xql"/>
    <view src="modules/reports/reports.xsl"/>
    <item epilogue="export" method="POST">
      <access>
        <rule action="GET POST" role="g:admin-system g:coaching-assistant g:coaching-manager" message="authorized user"/>
      </access>
      <model src="modules/reports/report-api.xql"/>
      <view src="modules/reports/reports.xsl"/>
      <variant name="GET" epilogue="excel" format="xlsx">
        <view/>
      </variant>
      <action name="POST" epilogue="console">
        <model src="modules/reports/report-api.xql"/>
      </action>
    </item>
  </collection>
  <!-- ***************** -->
  <!-- **  reminders  ** -->
  <!-- ***************** -->
  <collection name="reminders" epilogue="export">
    <access>
      <rule action="GET" role="g:admin-system g:coaching-assistant g:coaching-manager" message="authorized user"/>
    </access>
    <model src="modules/alerts/reminders.xql"/>
    <view src="modules/alerts/reminders.xsl"/>
  </collection>
  <!-- *********** -->
  <!-- ** stats ** -->
  <!-- *********** -->
  <item name="stats" supported="filter export">
    <access>
      <rule action="GET POST filter export" role="g:users" message="registered user"/>
    </access>
    <item name="cases" epilogue="home">
      <model src="modules/stats/stats.xql"/>
      <view src="modules/stats/stats.xsl"/>
    </item>
    <item name="activities" epilogue="home">
      <model src="modules/stats/stats.xql"/>
      <view src="modules/stats/stats.xsl"/>
    </item>
    <item name="kpi" epilogue="home">
      <model src="modules/stats/stats.xql"/>
      <view src="modules/stats/stats.xsl"/>
    </item>
    <action name="filter">
      <model src="modules/stats/filter.xql"/>
    </action>
    <action name="export">
      <model src="modules/stats/export.xql"/>
    </action>
  </item>
</site>
